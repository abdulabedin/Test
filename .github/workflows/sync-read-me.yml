name: Sync README

on:
  schedule:
    - cron: '0 * * * *' # Runs every hour (adjust as needed)
  workflow_dispatch: # Allows manual triggering of the workflow

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
      # Step 1: Check out your own repository where the workflow is running
      - name: Checkout This Repo
        uses: actions/checkout@v3

      # Step 2: Check out the first external repository (SimplifyJobs/Summer2025-Internships)
      - name: Checkout External Repo 1
        uses: actions/checkout@v3
        with:
          repository: SimplifyJobs/Summer2025-Internships
          token: ${{ secrets.PAT_TOKEN }} # Use PAT to access the first external repository
          path: external_repo1

      # Step 3: Extract the desired portion of the README.md from SimplifyJobs/Summer2025-Internships
      - name: Extract README.md Content from Repo 1
        run: |
          # Extract lines between the two patterns from Repo 1
          sed -n '/| Company | Role | Location | Application\/Link | Date Posted |/,/## We love our contributors ❤️❤️/p' external_repo1/README.md | sed '$d' > README_part1_temp.md
